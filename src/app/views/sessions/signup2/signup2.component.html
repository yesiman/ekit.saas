<div class="page-wrap flex flex-col justify-center items-center !min-h-screen slate">
  <div class="xs:min-w-full sm:min-w-96 min-w-72" [@animate]="{value:'*',params:{y:'40px',opacity:'0',delay:'100ms', duration: '400ms'}}">
    <mat-progress-bar mode="determinate" class="session-progress"></mat-progress-bar>
    <mat-card class="!m-0 sm:h-auto h-screen sm:!rounded-md !rounded-none">
      <mat-card-content>
        <div class="flex flex-col justify-start items-start !py-4">
          <p class="text-xl mb-1 font-bold">Sign up to Egret</p>
          <p><span class="text-secondary">Already have an account? </span> <a [routerLink]="'/sessions/signin2'"
              class="text-primary text-center full-width">Sign in</a></p>
        </div>

        <p *ngIf="errorMsg" class="text-center"><small class="text-red">{{errorMsg}}</small></p>

        <form [formGroup]="signupForm" (ngSubmit)="signup()">
          <div class="">
            <mat-form-field class="w-full">
              <input
                matInput
                type="email"
                name="email"
                [formControl]="signupForm.controls['email']"
                placeholder="Your Email"
                value="">
            </mat-form-field>
            <small 
              *ngIf="signupForm.controls['email'].hasError('required') && signupForm.controls['email'].touched" 
              class="form-error-msg"> Email is required </small>

              <small 
                *ngIf="signupForm.controls['email'].hasError('email') && signupForm.controls['email'].touched" 
                class="form-error-msg"> Invaild email address </small>
          </div>

          <div class="">
            <mat-form-field class="w-full">
              <input 
                type="password"
                name="password"
                matInput
                [formControl]="signupForm.controls['password']"
                placeholder="Password" 
                value="">
            </mat-form-field>
            <small 
              *ngIf="signupForm.controls['password'].hasError('required') && signupForm.controls['password'].touched" 
              class="form-error-msg"> Password is required </small>
          </div>
          
          <div class="!pb-4">
            <mat-checkbox
              name="agreed"
              [formControl]="signupForm.controls['agreed']"
              class="">I have read and agree to the terms of service.</mat-checkbox>

              <small 
                *ngIf="signupForm.controls['agreed'].hasError('agreed') && signupForm.controls['agreed'].touched" 
                class="form-error-msg"> You must agree to the terms and conditions </small>
          </div>

          <button mat-raised-button color="primary" class="w-full" [disabled]="signupForm.invalid">Sign up</button>
        </form>

        <div class="w-full">
          <egret-divider text="OR" class="my-6"></egret-divider>
          <button mat-stroked-button class="w-full flex items-center justify-center py-2">
            Sign up with Google
          </button>
        </div>
      </mat-card-content>
    </mat-card>
  </div>
</div>
