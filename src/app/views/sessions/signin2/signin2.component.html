<div class="page-wrap flex flex-col justify-center items-center !min-h-screen slate">
  <div class="xs:min-w-full sm:min-w-96 min-w-72" [@animate]="{value:'*',params:{y:'40px',opacity:'0',delay:'100ms', duration: '400ms'}}">
    <mat-progress-bar mode="determinate" class="session-progress"></mat-progress-bar>
    <mat-card class="!m-0 sm:h-auto h-screen sm:!rounded-md !rounded-none">
      <mat-card-content>
        <div class="flex flex-col justify-start items-start !py-4">
          <p class="text-xl mb-1 font-bold">Sign in to Egret</p>
          <p><span class="text-secondary">New here? </span> <a [routerLink]="'/sessions/signup2'"
              class="text-primary text-center full-width">Create a new account</a></p>
        </div>

        <p *ngIf="errorMsg" class="text-center"><small class="text-red">{{errorMsg}}</small></p>

        <form [formGroup]="signinForm" (ngSubmit)="signin()">
          <div class="">
            <mat-form-field class="w-full">
              <input matInput name="username" [formControl]="signinForm.controls['username']" placeholder="Username"
                value="">
            </mat-form-field>
            <small
              *ngIf="signinForm.controls['username'].hasError('required') && signinForm.controls['username'].touched"
              class="form-error-msg"> Username is required </small>
          </div>

          <div class="">
            <mat-form-field class="w-full">
              <input type="password" name="password" matInput [formControl]="signinForm.controls['password']"
                placeholder="Password" value="">
              @if (signinForm.controls['password'].hasError('required') && signinForm.controls['password'].touched) {
              <mat-error>Password is <strong>required</strong></mat-error>
              }
            </mat-form-field>

          </div>

          <div class="">
            <mat-checkbox name="remember" [formControl]="signinForm.controls['remember']" class="!pb-4">Trust this device</mat-checkbox>
          </div>

          <button mat-raised-button color="primary" class="w-full mb-4" [disabled]="signinForm.invalid">Sign in</button>
          <a [routerLink]="'/sessions/forgot-password2'" class="text-primary text-center full-width">Reset password</a>
        </form>

        <div class="w-full">
          <egret-divider text="OR" class="my-4"></egret-divider>
          <button mat-stroked-button class="w-full flex items-center justify-center py-2">
            Sign in with Google
          </button>
        </div>
      </mat-card-content>
    </mat-card>
  </div>
</div>